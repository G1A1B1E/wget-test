(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1361],{72445:function(e,r,t){"use strict";t.d(r,{W:function(){return b}});var n=t(67294),i=t(96768),o=t(64761),s=t(56817),a=t(14258),l=(0,s.k)((e,{fluid:r,sizes:t},{size:n})=>({root:{paddingLeft:e.spacing.md,paddingRight:e.spacing.md,maxWidth:r?"100%":(0,a.a)({size:n,sizes:t}),marginLeft:"auto",marginRight:"auto"}})),c=t(7414),d=Object.defineProperty,u=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(e,r,t)=>r in e?d(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,g=(e,r)=>{for(var t in r||(r={}))h.call(r,t)&&f(e,t,r[t]);if(u)for(var t of u(r))p.call(r,t)&&f(e,t,r[t]);return e},x=(e,r)=>{var t={};for(var n in e)h.call(e,n)&&0>r.indexOf(n)&&(t[n]=e[n]);if(null!=e&&u)for(var n of u(e))0>r.indexOf(n)&&p.call(e,n)&&(t[n]=e[n]);return t};let j={sizes:{xs:(0,i.h)(540),sm:(0,i.h)(720),md:(0,i.h)(960),lg:(0,i.h)(1140),xl:(0,i.h)(1320)}},b=(0,n.forwardRef)((e,r)=>{let t=(0,o.N4)("Container",j,e),{className:i,fluid:s,size:a,unstyled:d,sizes:u,variant:h}=t,p=x(t,["className","fluid","size","unstyled","sizes","variant"]),{classes:f,cx:b}=l({fluid:s,sizes:u},{unstyled:d,name:"Container",variant:h,size:a});return n.createElement(c.x,g({className:b(f.root,i),ref:r},p))});b.displayName="@mantine/core/Container"},66261:function(e,r,t){"use strict";t.d(r,{k:function(){return x}});var n=t(64761),i=t(83051),o=t(12756),s=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,h=(e,r,t)=>r in e?s(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,p=(e,r)=>{for(var t in r||(r={}))d.call(r,t)&&h(e,t,r[t]);if(c)for(var t of c(r))u.call(r,t)&&h(e,t,r[t]);return e},f=(e,r)=>a(e,l(r)),g=(e,r)=>{var t={};for(var n in e)d.call(e,n)&&0>r.indexOf(n)&&(t[n]=e[n]);if(null!=e&&c)for(var n of c(e))0>r.indexOf(n)&&u.call(e,n)&&(t[n]=e[n]);return t};function x(e,r,t){let s=(0,n.N4)(e,r,t),{label:a,description:l,error:c,required:d,classNames:u,styles:h,className:x,unstyled:j,__staticSelector:b,sx:m,errorProps:v,labelProps:y,descriptionProps:O,wrapperProps:w,id:z,size:S,style:P,inputContainer:k,inputWrapperOrder:C,withAsterisk:T,variant:N}=s,_=g(s,["label","description","error","required","classNames","styles","className","unstyled","__staticSelector","sx","errorProps","labelProps","descriptionProps","wrapperProps","id","size","style","inputContainer","inputWrapperOrder","withAsterisk","variant"]),E=(0,i.M)(z),{systemStyles:I,rest:D}=(0,o.x)(_),Z=p({label:a,description:l,error:c,required:d,classNames:u,className:x,__staticSelector:b,sx:m,errorProps:v,labelProps:y,descriptionProps:O,unstyled:j,styles:h,id:E,size:S,style:P,inputContainer:k,inputWrapperOrder:C,withAsterisk:T,variant:N},w);return f(p({},D),{classNames:u,styles:h,unstyled:j,wrapperProps:p(p({},Z),I),inputProps:{required:d,classNames:u,styles:h,unstyled:j,id:E,size:S,__staticSelector:b,error:c,variant:N}})}},95078:function(e,r,t){"use strict";t.d(r,{i:function(){return N}});var n=t(67294),i=t(64761),o=t(56817),s=t(96768),a=t(14258),l=Object.defineProperty,c=Object.defineProperties,d=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(e,r,t)=>r in e?l(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,g=(e,r)=>{for(var t in r||(r={}))h.call(r,t)&&f(e,t,r[t]);if(u)for(var t of u(r))p.call(r,t)&&f(e,t,r[t]);return e},x=(e,r)=>c(e,d(r)),j=(0,o.k)((e,{captionSide:r,horizontalSpacing:t,verticalSpacing:n,fontSize:i,withBorder:o,withColumnBorders:l})=>{let c=`${(0,s.h)(1)} solid ${"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[3]}`;return{root:x(g({},e.fn.fontStyles()),{width:"100%",borderCollapse:"collapse",captionSide:r,color:"dark"===e.colorScheme?e.colors.dark[0]:e.black,lineHeight:e.lineHeight,border:o?c:void 0,"& > caption":{marginTop:"top"===r?0:e.spacing.xs,marginBottom:"bottom"===r?0:e.spacing.xs,fontSize:e.fontSizes.sm,color:"dark"===e.colorScheme?e.colors.dark[2]:e.colors.gray[6]},"& > thead > tr > th, & > tfoot > tr > th, & > tbody > tr > th":{textAlign:"left",fontWeight:"bold",color:"dark"===e.colorScheme?e.colors.dark[0]:e.colors.gray[7],fontSize:(0,a.a)({size:i,sizes:e.fontSizes}),padding:`${(0,a.a)({size:n,sizes:e.spacing})} ${(0,a.a)({size:t,sizes:e.spacing})}`},"& > thead > tr > th":{borderBottom:c},"& > tfoot > tr > th, & > tbody > tr > th":{borderTop:c},"& > tbody > tr > td":{padding:`${(0,a.a)({size:n,sizes:e.spacing})} ${(0,a.a)({size:t,sizes:e.spacing})}`,borderTop:c,fontSize:(0,a.a)({size:i,sizes:e.fontSizes})},"& > tbody > tr:first-of-type > td, & > tbody > tr:first-of-type > th":{borderTop:"none"},"& > thead > tr > th, & > tbody > tr > td":{borderRight:l?c:"none","&:last-of-type":{borderRight:"none",borderLeft:l?c:"none"}},"& > tbody > tr > th":{borderRight:l?c:"none"},"&[data-striped] > tbody > tr:nth-of-type(odd)":{backgroundColor:"dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[0]},"&[data-hover] > tbody > tr":e.fn.hover({backgroundColor:"dark"===e.colorScheme?e.colors.dark[5]:e.colors.gray[1]})})}}),b=t(7414),m=Object.defineProperty,v=Object.defineProperties,y=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable,S=(e,r,t)=>r in e?m(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,P=(e,r)=>{for(var t in r||(r={}))w.call(r,t)&&S(e,t,r[t]);if(O)for(var t of O(r))z.call(r,t)&&S(e,t,r[t]);return e},k=(e,r)=>v(e,y(r)),C=(e,r)=>{var t={};for(var n in e)w.call(e,n)&&0>r.indexOf(n)&&(t[n]=e[n]);if(null!=e&&O)for(var n of O(e))0>r.indexOf(n)&&z.call(e,n)&&(t[n]=e[n]);return t};let T={striped:!1,highlightOnHover:!1,captionSide:"top",horizontalSpacing:"xs",fontSize:"sm",verticalSpacing:7,withBorder:!1,withColumnBorders:!1},N=(0,n.forwardRef)((e,r)=>{let t=(0,i.N4)("Table",T,e),{className:o,children:s,striped:a,highlightOnHover:l,captionSide:c,horizontalSpacing:d,verticalSpacing:u,fontSize:h,unstyled:p,withBorder:f,withColumnBorders:g,variant:x}=t,m=C(t,["className","children","striped","highlightOnHover","captionSide","horizontalSpacing","verticalSpacing","fontSize","unstyled","withBorder","withColumnBorders","variant"]),{classes:v,cx:y}=j({captionSide:c,verticalSpacing:u,horizontalSpacing:d,fontSize:h,withBorder:f,withColumnBorders:g},{unstyled:p,name:"Table",variant:x});return n.createElement(b.x,k(P({},m),{component:"table",ref:r,className:y(v.root,o),"data-striped":a||void 0,"data-hover":l||void 0}),s)});N.displayName="@mantine/core/Table"},80061:function(e,r,t){"use strict";t.d(r,{o:function(){return j}});var n=t(67294),i=t(66261),o=t(94151),s=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,h=(e,r,t)=>r in e?s(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,p=(e,r)=>{for(var t in r||(r={}))d.call(r,t)&&h(e,t,r[t]);if(c)for(var t of c(r))u.call(r,t)&&h(e,t,r[t]);return e},f=(e,r)=>a(e,l(r)),g=(e,r)=>{var t={};for(var n in e)d.call(e,n)&&0>r.indexOf(n)&&(t[n]=e[n]);if(null!=e&&c)for(var n of c(e))0>r.indexOf(n)&&u.call(e,n)&&(t[n]=e[n]);return t};let x={type:"text",size:"sm",__staticSelector:"TextInput"},j=(0,n.forwardRef)((e,r)=>{let t=(0,i.k)("TextInput",x,e),{inputProps:s,wrapperProps:a}=t,l=g(t,["inputProps","wrapperProps"]);return n.createElement(o.I.Wrapper,p({},a),n.createElement(o.I,f(p(p({},s),l),{ref:r})))});j.displayName="@mantine/core/TextInput"},19236:function(e,r,t){"use strict";t.d(r,{D:function(){return P}});var n=t(67294),i=t(64761),o=t(96768),s=t(56817),a=Object.defineProperty,l=Object.defineProperties,c=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,p=(e,r,t)=>r in e?a(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,f=(e,r)=>{for(var t in r||(r={}))u.call(r,t)&&p(e,t,r[t]);if(d)for(var t of d(r))h.call(r,t)&&p(e,t,r[t]);return e},g=(e,r)=>l(e,c(r)),x=(0,s.k)((e,{element:r,weight:t,inline:n},{size:i})=>{var s,a,l,c,d,u;return{root:g(f({},e.fn.fontStyles()),{fontFamily:e.headings.fontFamily,fontWeight:t||e.headings.sizes[r].fontWeight||e.headings.fontWeight,fontSize:void 0!==i?i in e.headings.sizes?e.headings.sizes[i].fontSize:(0,o.h)(i):e.headings.sizes[r].fontSize,lineHeight:n?1:void 0!==i&&i in e.headings.sizes?e.headings.sizes[i].lineHeight:e.headings.sizes[r].lineHeight,margin:0})}}),j=t(95117),b=Object.defineProperty,m=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,O=(e,r,t)=>r in e?b(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,w=(e,r)=>{for(var t in r||(r={}))v.call(r,t)&&O(e,t,r[t]);if(m)for(var t of m(r))y.call(r,t)&&O(e,t,r[t]);return e},z=(e,r)=>{var t={};for(var n in e)v.call(e,n)&&0>r.indexOf(n)&&(t[n]=e[n]);if(null!=e&&m)for(var n of m(e))0>r.indexOf(n)&&y.call(e,n)&&(t[n]=e[n]);return t};let S={order:1},P=(0,n.forwardRef)((e,r)=>{let t=(0,i.N4)("Title",S,e),{className:o,order:s,children:a,unstyled:l,size:c,weight:d,inline:u,variant:h}=t,p=z(t,["className","order","children","unstyled","size","weight","inline","variant"]),{classes:f,cx:g}=x({element:`h${s}`,weight:d,inline:u},{name:"Title",unstyled:l,variant:h,size:c});return[1,2,3,4,5,6].includes(s)?n.createElement(j.x,w({variant:h,component:`h${s}`,ref:r,className:g(f.root,o)},p),a):null});P.displayName="@mantine/core/Title"},87536:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/trading",function(){return t(77678)}])},66110:function(e,r){"use strict";var t=function(e){return fetch(e).then(function(e){return e.json()})};r.Z=t},77678:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return H}});var n=t(85893),i=t(523),o=t(9008),s=t.n(o),a=t(47568),l=t(70655),c=t(72445),d=t(20050),u=t(19236),h=t(74403),p=t(71232),f=t(67841),g=t(95117),x=t(80061),j=t(49834),b=t(43523),m=t(20966),v=t(95078),y=t(99985),O=t(67294),w=t(63750);function z(e){var r=e.size,t=e.color;return(0,n.jsx)(w.YsN,{size:r,color:t})}var S=t(11163),P=t(74922),k=t(21017),C=t(97564);function T(e){var r,t,i,o,s,a,l,c,d=e.trade,u=(0,S.useRouter)();return(0,n.jsxs)(k.Z,{withBorder:!0,h:"100%",children:[(0,n.jsxs)(g.x,{size:"sm",children:["Created at ",new Date(d.createdAt).toLocaleString()]}),(0,n.jsxs)(p.Z,{position:"apart",children:[(0,n.jsxs)(p.Z,{children:[(0,n.jsxs)(C.K,{spacing:0,children:[(0,n.jsx)(y.q,{src:null==d?void 0:null===(r=d.host)||void 0===r?void 0:null===(t=r.user)||void 0===t?void 0:t.image,alt:"host image",size:"lg"}),(0,n.jsx)(b.M,{children:(0,n.jsx)(g.x,{size:"xs",color:"dark.2",children:"Host"})})]}),(0,n.jsx)(g.x,{children:null==d?void 0:null===(i=d.host)||void 0===i?void 0:null===(o=i.user)||void 0===o?void 0:o.name})]}),(0,n.jsx)(p.Z,{children:(null==d?void 0:d.guest)?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(C.K,{spacing:0,children:[(0,n.jsx)(y.q,{src:null==d?void 0:null===(s=d.guest)||void 0===s?void 0:null===(a=s.user)||void 0===a?void 0:a.image,alt:"guest image",size:"lg"}),(0,n.jsx)(b.M,{children:(0,n.jsx)(g.x,{size:"xs",color:"dark.2",children:"Guest"})})]}),(0,n.jsx)(g.x,{children:null==d?void 0:null===(l=d.guest)||void 0===l?void 0:null===(c=l.user)||void 0===c?void 0:c.name})]}):(0,n.jsx)(g.x,{children:"No guest"})})]}),(0,n.jsx)(f.z,{mt:10,fullWidth:!0,color:"orange",variant:"outline",onClick:function(){return u.push("/trading/".concat(d._id.toString()))},children:"Go to trade"})]})}var N=t(41664),_=t.n(N),E=t(2607),I=t(66110),D=t(59734);function Z(){var e,r,t,i=(0,O.useState)(),o=i[0],s=i[1],w=(0,S.useRouter)(),k=(0,E.Z)().classes,C=(0,O.useState)(),N=C[0],Z=C[1],H=(0,D.ZP)("/api/trading",I.Z),R=H.data,U=H.isLoading;(0,O.useEffect)(function(){Z(R)},[R]);var W,F=function(e){e.preventDefault(),B()},$=(W=(0,a.Z)(function(){var e,r;return(0,l.__generator)(this,function(t){switch(t.label){case 0:return[4,fetch("/api/trading",{method:"POST"})];case 1:return[4,(e=t.sent()).json()];case 2:return r=t.sent(),e.ok?w.push("/trading/".concat(r._id)):P.N9.show({title:"Error",message:"Error creating your trade.",color:"red"}),[2]}})}),function(){return W.apply(this,arguments)}),B=function(){w.push("/trading/".concat(o))};return(0,n.jsxs)(c.W,{fluid:!0,children:[(0,n.jsx)(d.r,{children:(0,n.jsx)(d.r.Col,{span:12,children:(0,n.jsx)(u.D,{children:"Trading"})})}),(null==N?void 0:N.isUnlocked)===!1&&(0,n.jsx)(h.b,{color:"red",title:"Trading is not unlocked",children:"You must reach Master Guardian I to unlock trading"}),(0,n.jsx)(d.r,{children:(0,n.jsx)(d.r.Col,{span:12,children:(0,n.jsxs)(p.Z,{align:"flex-end",children:[(0,n.jsx)(f.z,{disabled:U||(null==N?void 0:N.activeUserTradeHostCount)>=1||!(null==N?void 0:N.isUnlocked),color:"orange",onClick:$,children:(null==N?void 0:N.activeUserTradeHostCount)>=1?"You can only host one trade at a time":"Create Trade"}),(0,n.jsx)(g.x,{children:"or"}),(0,n.jsx)("form",{onSubmit:F,children:(0,n.jsx)(x.o,{disabled:!(null==N?void 0:N.isUnlocked),classNames:k,label:"Join trade",placeholder:"Trade ID",rightSection:(0,n.jsx)(j.A,{disabled:U||!(null==N?void 0:N.isUnlocked),onClick:B,children:(0,n.jsx)(z,{size:24})}),value:o,onChange:function(e){return s(e.currentTarget.value)}})})]})})}),U||!N?(0,n.jsx)(d.r,{children:(0,n.jsx)(d.r.Col,{span:12,children:(0,n.jsx)(b.M,{children:(0,n.jsx)(m.a,{size:"xl",color:"orange"})})})}):(0,n.jsxs)(n.Fragment,{children:[(null==N?void 0:null===(e=N.activeUserTrades)||void 0===e?void 0:e.length)>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.r,{mt:30,children:(0,n.jsx)(d.r.Col,{span:12,children:(0,n.jsx)(u.D,{order:2,children:"Your active trades"})})}),(0,n.jsx)(d.r,{children:null==N?void 0:null===(r=N.activeUserTrades)||void 0===r?void 0:r.map(function(e){return(0,n.jsx)(d.r.Col,{span:12,xs:6,lg:4,children:(0,n.jsx)(T,{trade:e})},e._id.toString())})})]}),(null==N?void 0:null===(t=N.finishedUserTrades)||void 0===t?void 0:t.length)>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.r,{mt:30,children:(0,n.jsx)(d.r.Col,{span:12,children:(0,n.jsx)(u.D,{order:3,children:"Finished trades"})})}),(0,n.jsx)(d.r,{children:(0,n.jsx)(d.r.Col,{span:12,children:(0,n.jsxs)(v.i,{children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Created at"}),(0,n.jsx)("th",{children:"Host"}),(0,n.jsx)("th",{children:"Guest"}),(0,n.jsx)("th",{children:"View"})]})}),(0,n.jsx)("tbody",{children:N.finishedUserTrades.map(function(e){return(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:new Date(e.createdAt).toLocaleString()}),(0,n.jsx)("td",{children:(0,n.jsx)(_(),{href:"/profile/".concat(e.host.user.userId),children:(0,n.jsxs)(p.Z,{sx:{cursor:"pointer"},children:[(0,n.jsx)(y.q,{src:e.host.user.image,size:"md"}),(0,n.jsx)(g.x,{children:e.host.user.name})]})})}),(0,n.jsx)("td",{children:(0,n.jsx)(_(),{href:"/profile/".concat(e.guest.user.userId),children:(0,n.jsxs)(p.Z,{sx:{cursor:"pointer"},children:[(0,n.jsx)(y.q,{src:e.guest.user.image,size:"md"}),(0,n.jsx)(g.x,{children:e.guest.user.name})]})})}),(0,n.jsx)("td",{children:(0,n.jsx)(f.z,{variant:"subtle",color:"orange",onClick:function(){return w.push("/trading/".concat(e._id.toString()))},children:"View trade"})})]},e._id.toString())})})]})})})]})]})]})}function H(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s(),{children:[(0,n.jsx)("title",{children:"Trading | Case Clicker Online"}),(0,n.jsx)("meta",{name:"description",content:"trade with other players"}),(0,n.jsx)("link",{rel:"canonical",href:"https://case-clicker.com/trading"})]}),(0,n.jsx)(i.Z,{children:(0,n.jsx)(Z,{})})]})}}},function(e){e.O(0,[1228,4980,5937,5445,4617,9866,2013,8237,2457,5675,3617,2005,9734,523,9774,2888,179],function(){return e(e.s=87536)}),_N_E=e.O()}]);